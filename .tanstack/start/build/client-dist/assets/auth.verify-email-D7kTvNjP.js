import{_ as n,u as r,$ as l,j as e,I as c,a0 as u}from"./main-DsOtDJLA.js";import{F as p,P as d}from"./Page-CAopKRxs.js";import{a as f}from"./auth.client-C-MltOKw.js";import"./LocaleToggle-BcJNltfG.js";const x=({onSubmit:s})=>{const i=r("AuthVerifyEmailForm"),o=c({defaultValues:{code:""},validators:{onSubmit:u},onSubmit:({value:t})=>s(t)});return e.jsx(o.AppForm,{children:e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:t=>{t.preventDefault(),o.handleSubmit()},children:[e.jsx(o.AppField,{name:"code",children:t=>e.jsx(t.TextField,{label:i.code.label,autoComplete:"off"})}),e.jsx(o.SubmitButton,{})]})})},b=function(){const i=n.useSearch(),o=n.useNavigate(),t=r("AuthVerifyEmail"),m=l({mutationFn:({data:{code:a}})=>f.signIn.emailOtp({otp:a,email:i.email}),onSuccess:()=>{o({to:i.redirect??"/$locale/admin",search:a=>({...a,redirect:void 0,email:void 0})})}});return e.jsxs(p,{children:[e.jsx(d,{title:t.title,description:t.description}),e.jsx(x,{onSubmit:a=>m.mutateAsync({data:a})})]})};export{b as component};
