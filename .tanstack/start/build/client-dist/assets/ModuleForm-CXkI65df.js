import{aa as o,ac as d,aD as n,u as b,I as j,j as l}from"./main-DsOtDJLA.js";const p=o({name:d(),description:d().optional(),referrers:d().array(),scenarioId:d(),contextIds:d().array(),personaIds:d().array().min(1)});o({id:d(),organizationId:d(),apiKeyId:d(),data:p,updatedAt:n(),createdAt:n()});const F=({defaultValues:c,onSubmit:m,apiKeyOptions:u,scenarioOptions:x,personaOptions:r,contextOptions:i})=>{const t=b("ModuleForm"),s=j({defaultValues:{contextIds:[],personaIds:[],referrers:[],...c},validators:{onSubmit:p.extend({apiKeyId:d()})},onSubmit:m});return l.jsx(s.AppForm,{children:l.jsxs("form",{onSubmit:a=>a.preventDefault(),className:"flex flex-col gap-4",children:[l.jsx(s.AppField,{name:"name",children:a=>l.jsx(a.TextField,{label:t.name})}),l.jsx(s.AppField,{name:"description",children:a=>l.jsx(a.TextAreaField,{optional:!0,label:t.description})}),l.jsx(s.AppField,{name:"apiKeyId",children:a=>l.jsx(a.SelectField,{placeholder:t.apiKey.placeholder,label:t.apiKey.label,options:u.map(e=>({label:e.name,value:e.id}))})}),l.jsx(s.AppField,{name:"scenarioId",children:a=>l.jsx(a.SelectField,{placeholder:t.scenario.placeholder,label:t.scenario.label,options:x.map(e=>({label:e.data.name,value:e.id}))})}),l.jsx(s.AppField,{name:"contextIds",children:a=>l.jsx(a.MultiSelectField,{optional:!0,placeholder:t.contexts.placeholder,label:t.contexts.label,value:i.map(e=>({label:e.data.name,value:e.id})).filter(({value:e})=>a.state.value.includes(e)),options:i.map(e=>({label:e.data.name,value:e.id}))})}),l.jsx(s.AppField,{name:"personaIds",children:a=>l.jsx(a.MultiSelectField,{placeholder:t.personas.placeholder,label:t.personas.label,value:r.map(e=>({label:e.data.name,value:e.id})).filter(({value:e})=>a.state.value.includes(e)),options:r.map(e=>({label:e.data.name,value:e.id}))})}),l.jsx(s.SubmitButton,{})]})})};export{F as M};
