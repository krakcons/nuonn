import{aa as c,ac as s,aD as p,aC as l,u as r,I as m,j as e,aM as d,$ as u,aN as x,ah as y}from"./main-DsOtDJLA.js";import{a as A,P as j}from"./Page-CAopKRxs.js";import"./LocaleToggle-BcJNltfG.js";const F=c({id:s(),name:s(),key:s(),provider:l(["openai"]),createdAt:p(),updatedAt:p()}),h=F.omit({updatedAt:!0,createdAt:!0}).extend({id:s().optional()}),v={openai:"https://platform.openai.com/settings/organization/api-keys"},b=({defaultValues:i,onSubmit:n})=>{const a=r("ApiKeyForm"),o=m({defaultValues:{key:"",provider:"openai",...i},validators:{onSubmit:h},onSubmit:n});return e.jsx(o.AppForm,{children:e.jsxs("form",{onSubmit:t=>t.preventDefault(),className:"flex flex-col gap-4",children:[e.jsx(o.AppField,{name:"name",children:t=>e.jsx(t.TextField,{label:a.name})}),e.jsx(o.AppField,{name:"key",children:t=>e.jsx(t.TextField,{label:a.key})}),e.jsx(o.AppField,{name:"provider",children:t=>e.jsx(t.SelectField,{label:a.provider,options:[{label:"OpenAI",value:"openai"}],description:v[t.state.value]})}),e.jsx(o.SubmitButton,{})]})})},K=function(){const n=d.useNavigate(),a=r("ApiKeyCreate"),o=u({mutationFn:x,onSuccess:()=>{y.success(a.toast),n({to:"/$locale/admin/api-keys"})}});return e.jsxs(A,{children:[e.jsx(j,{title:a.title,description:a.description}),e.jsx(b,{onSubmit:({value:t})=>o.mutateAsync({data:t})})]})};export{K as component};
