import{a1 as l,$ as u,u as m,j as e,I as c,a2 as p}from"./main-DsOtDJLA.js";import{F as d,P as x}from"./Page-CAopKRxs.js";import{a as f}from"./auth.client-C-MltOKw.js";import"./LocaleToggle-BcJNltfG.js";const g=({onSubmit:s,defaultValues:o})=>{const n=m("AuthLoginForm"),a=c({defaultValues:{...o,email:""},validators:{onSubmit:p},onSubmit:({value:t})=>s(t)});return e.jsx(a.AppForm,{children:e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:t=>{t.preventDefault(),a.handleSubmit()},children:[e.jsx(a.AppField,{name:"email",children:t=>e.jsx(t.TextField,{label:n.email.label})}),e.jsx(a.SubmitButton,{})]})})},b=function(){const o=l.useNavigate(),n=u({mutationFn:({data:{email:t}})=>f.emailOtp.sendVerificationOtp({email:t,type:"sign-in"}),onSuccess:(t,{data:{email:r}})=>{o({to:"/$locale/auth/verify-email",params:i=>i,search:i=>({...i,email:r})})}}),a=m("AuthLogin");return e.jsxs(d,{children:[e.jsx(x,{title:a.title,description:a.description}),e.jsx(g,{onSubmit:t=>n.mutateAsync({data:t})})]})};export{b as component};
